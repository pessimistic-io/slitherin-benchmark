/*zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzZZzZzzBz:,...           ...',::BzzZzZZzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzZZzzz:'..                              ..,:zzZZZzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzzzzzzzzZZZzz'.      ...',::zzzzBBBBBBBBzzz:::,'...      .'zzZZZzzzzzzzzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzzzzzZzzB'.     .',:zBzzzzzzzzzzzzzzzzzzzzzzzzzzzzBz:,..     .'zzzZzzzzzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzzZzzz.     .':zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBz:'.     .BzzZzzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzZZB'     .:zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBz:'.    .zzZzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzz:.    .,:BzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzB:.    .,zZzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzz,    .,:BBBzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBBBBBzzzzzzzBBBz:'.    :zzzzzzzzzzzzzzzz
zzzzzzzzzzzzZz,    .:zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBBBBBBBBBBzzzzzBBBBBBBz,.    ,zZzzzzzzzzzzzz
zzzzzzzzzzZz:    'zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBBBBBBBBBBBBzzzzzBBBBBBBBBBB:.   .:zZzzzzzzzzzz
zzzzzzzzZzz.   .:zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBz:,::zBBBBBBBBBzzzzzBBBBBBBBBBBBzB:.   .zzzzzzzzzzz
zzzzzzzZz:   .,BzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzB:,'...  .:BBBBBBBBzzzzzzBBBBBBBBBBBBBzzB:.   :ZZzzzzzzz
zzzzzzZz'   .:BBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzz:'.....    .,BBBBBBBBzzzzzzBBBBBBBBBBBBzzzzzz.   'zZzzzzzz
zzzzzZz.   ,zBBBBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzz:..           .zBBBBBBzzzzzzzzBBBBBBBBBBzzzzzzzB'   .zZzzzzz
zzzzZz.  .:BBBBBBBBBBBBBBBBBBBBBBBzzzzzzzzzzBz,.             .:BBBBBBzzzzzzzzzzzBBBBzzzzzzzzzzzzB,   .zzzzzz
zzzZz.  .:zBBBBBBBBBBBBBBBBBBBBBBBzzzBBBBBBz,.              .:BBBBBBzzBBBBBBBzBBBBBzzzzzzzzzzzzzzB,   .BZzzz
zzZz.  .:zzBBBBBBBBBBBBBBBBBBBBBB:'..:BBBz,.               .,,,''...................',:::zBzzBBzzzz,   .zZzz
zZz'   :zzzBBBBBBBBBBBBBBBBBzzBBB:. .:Bz:.                       ......''......           .':zBBzzzB,   'zZz
zzz   'BzzzBBBBBBBBBBBBBBBB:..:BB:..zBz'                     ..................             'zBBBzzzB.   :zz
Zz.  .zzzzzBBBBBBBBBBBBBBBB:..:Bz'.,z:.                                  ....          ...,:zBBBBzzzz:.  .zZ
z:   ,zzzzzzBBBBBBBBBBBBBBBB'.:B:..:,.                                            ..,::BBBBBBBBBzzzzzB,   :z
z.  .zzzzzzzzBBBBBBBBBBBBBBB,.,z'.::.                             ....   .  .     .:zzzzzzBBBBzzzzzzzzz.  .z
:   'zzzzzzzzzBBBBBBBBBBBBBB:.,:....               ..             ..    .....     .zzzzzzzzzzzzzzzzzzzB'   :
.   :zzzzzzzzzzzBBBBBBBz:,',....                                        ...   .',:BzzzzzzB::BzzzBBzzzzz:   '
.  .:zzzzzzzzzzzzBBBBB:.                                              ....'::zzzzzzzBB:,,,:zzzzzzzzzzzz:.  .
   .zzzzzzzzzzzzzzzBB:.                 ..         .....  .....''.  ...'::BBzBBz:,'''',,:zBzzzzzzzzzzzzz.   
   .zzzzzzzzzzzzzzzzB'                           .:zzzz:..:zBBBBBz'.':,'........',::zBzzzBBzzzzzzzzzzzzz.  .
   .zzzzzzzzzzzzzzzzz,         .              .':BBBBBB:..:BBBBBBBz'.'zBz::::::zBzzzzzzzzzzzzzzzzzzzzzzz.   
   .zzzzzzzzzzzzzzzzzB,.      ..              .:BBBBBBB:..:BBBBBBBBz'..:BBBBBBBBBBBzzzzzzzzzzzzzzzzzzzz:.  .
'  .:zzzzzzzzzzzzzzzzzzB:.             ..       .:zBBBB:..:BBBBBBBBBB:..,:zBBBBBBBBBBzzzzzzzzzzzzzzzzzz:.  .
z   ,zzzzzzzzzzzzzzzzzzz:...         .:Bz::,'.   .,zBBB:..zBBBBBBBBBBB:'...',:zBBBBBBBBzzzzzzzzzzzzzzzz,   ,
B   .zBBBBBBzzzzzzzzzzB,.,BB'  ....':zBBBBz:,. ..:zBBBB:..:BBBBBBBBBBBBBz::'....',::zBBBBBzzzzzzzzzzzzB.   B
z'   ,BBBBBBBBzzzzzzzzz,:zz:..:zzzBBBBBz:'...'::zBBBBBBB:..:BBBBBBBBBBBBBBBBBz:,'....',,::BBzzzzzzzzzz:.  .z
ZB   .:BBBBBBBBBBzzzzzzzzzz..:BBBBBBBBz'.'::zBBBBBBBBBBBB:..'zBBBBBBBBBBBBBBBBBBBBz::,'....'':zzzzzzzB'   :z
Zz'   'zBBBBBBzBBBzzzzzB::..:BBBBBBBBz'.,BBBBBBBBBBzzzzzzzB,..:zBBBBBBBBBBBBBBBBBBBBBBBBz:::::zzzzzzz:   .zZ
zZz.  .:BBBBB:,',,:::,''',:zzzBBBBBBz'.,BBBBBBBBBzzzzzzzzzzzz'.':BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBzzzzz:.  .BZz
zzzz   .:BBBBBz:,''''::BzzzzzzBBBBBz,.'zBBBBBBBBBzzzzzzzzzzzzB:..,zBBBBBBBBBBBBBBBBBBBBBBBBBBBBBzzzz.   :zzz
zzzZ:   .:BBBBBBBBBBzzzzzzzzzzzBBBB,..zBBBBBBBBBBzzzzzzzzzzzzzzB:..,zBBBBBBBBBBBBBBBBBBBBBBBBBBBBzB.   ,zzzz
zzzZZ,   .:BBBBBBBBBzzzzzzzzzzzBBB:..:BBBBBBBBBBzzzzzzzzzzzzzzzzzB:::BBBBBBBBBBBBBBBBBBBBBBBBBBBB:.   ,zZzzz
zzzzZZ,   .:BBBBBBBBzzzzzzzzzzzBz:..:BBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzBBBBBBBBBBBBBBBBBBBBBBBBB:.   'zZzzzz
zzzzzZZ,   .,zBBBBBBzzzzzzzzzzB,..':BBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzBBBBBBBBBBBBBBBBBBBBBz,.   ,zZzzzzz
zzzzzzzzz.   .:BBBBzzzzzzzzzz,..,:BBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzzBBBBBBBBBBBBBBBBBB:.    zzzzzzzzz
zzzzzzzzZz.   .,zzzzzzzzzzz:'':zBBBBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBBBBBBBBBBBBBBz,.   .zZzzzzzzzz
zzzzzzzzzZzz.   .:zzzzzzzzzBBzzBBBBBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBBBBBBBBBz:.   .:ZZzzzzzzzzz
zzzzzzzzzzzZz,    .:zzzzzzzzzzzBBBBBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzBBBz:.    ,zZzzzzzzzzzzz
zzzzzzzzzzzzzzz'    .:zzzzzzzzzBBBBBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzB:.    ,zzZzzzzzzzzzzzz
zzzzzzzzzzzzzzzzz'    .,zzzzzzBBBBBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz,.    ,zzZzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzz:.    .,zzzBBBBBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzB:,.    .:zzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzZZz,.    .'::zBBBBBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzB:,.    .,zZZzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzzzzZzB,.     .',:zBBBBBBBBBzzzzzzzzzzzzzzzzzzzzzzzzzzB:,..    .,zZZzzzzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzzzzzzzZZz:'.     ...',::zBzzzzzzzzzzzzzzzzzzzBBz::'..     ..:zZZZzzzzzzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzzzzzzzzzzZzzzz,.        ..''''',,,,,,,,'''.....      ..,zzZzZzzzzzzzzzzzzzzzzzzzzzzzzzzzz
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzZzzzB:'...                       ..':BzZzZZzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
dumpster.cityzzzzzzzzzzzzzzzzzzzzzzzzzZzzzzzB:...          ...,zBzzZzZZzzzzzzzzzzzzzzzz(c) 2022 SKUZZ LABS*/

// SPDX-License-Identifier: MIT
pragma solidity ^0.8.15;

import "./ERC721A.sol";
import "./Ownable.sol";
import "./Strings.sol";

contract DumpsterCity is ERC721A, Ownable {
    using Strings for uint256;
    string private _baseTokenURI;
    uint256 public constant maxSupply = 10000;
    uint256 public constant mintPerWallet = 2;
    uint256 public constant mintPrice = 0.05 ether;
    bool public minting = false;

    constructor() ERC721A("Dumpster City", "BUZZERZ") {}

    function mint(uint256 qty) external payable {
        require(minting);
        require(_numberMinted(_msgSender()) + qty <= mintPerWallet);
        require(totalSupply() + qty <= maxSupply);
        require(qty * mintPrice <= msg.value);
        require(msg.sender == tx.origin);
        _safeMint(msg.sender, qty);
    }

    function reserve(address creator, uint256 qty) external onlyOwner {
        require(!minting);
        require(totalSupply() + qty <= maxSupply);
        _safeMint(creator, qty);
    }

    function toggleMinting() external onlyOwner {
        minting = !minting;
    }

    function withdraw() external onlyOwner {
        (bool success, ) = msg.sender.call{value: address(this).balance}("");
        require(success);
    }

    function setBaseURI(string calldata baseURI) external onlyOwner {
        _baseTokenURI = baseURI;
    }

    function _baseURI() internal view virtual override returns (string memory) {
        return _baseTokenURI;
    }
}
